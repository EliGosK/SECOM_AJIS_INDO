@using SECOM_AJIS.Common.Helpers
@using SECOM_AJIS.Presentation.Common.Helpers
@using SECOM_AJIS.Presentation.Contract.Helpers;
@using SECOM_AJIS.Presentation.Master.Helpers;
@section page_header{
    <link href="@Url.Content("~/Content/css/table_style.css")" rel="stylesheet" type="text/css" />
    <link href="../../Content/css/common_style.css" rel="stylesheet" type="text/css" />
    <script src="../../Scripts/jquery.maskedinput-1.3.js" type="text/javascript"></script>
    <script type="text/javascript" src="@Url.Content("~/Content/js/dhtmlxgrid/dhtmlxcommon.js")"></script>
    <script type="text/javascript" src="@Url.Content("~/Content/js/dhtmlxgrid/dhtmlxgrid.js")"></script>
    <script type="text/javascript" src="@Url.Content("~/Content/js/dhtmlxgrid/ext/dhtmlxgrid_data.js")"></script>
    <script type="text/javascript" src="@Url.Content("~/Content/js/dhtmlxgrid/ext/dhtmlxgrid_pgn.js")"></script>
    <script type="text/javascript" src="@Url.Content("~/Content/js/dhtmlxgrid/dhtmlxgridcell.js")"></script>
    <script type="text/javascript" src="@Url.Content("~/Content/js/dhtmlxgrid/ext/dhtmlxgrid_rowspan.js")"></script>
    <script type="text/javascript" src="@Url.Content("~/Scripts/Base/AutoComplete.js")" ></script>
    <script type="text/javascript" src="@Url.Content("~/Scripts/Base/ComboBox.js")"></script>
    <script type="text/javascript" src="@Url.Content("~/Scripts/Base/GridControl.js")"></script>

    <script type="text/javascript" src="@Url.Content("~/Content/js/dhtmlxgrid/excells/dhtmlxgrid_excell_dhxcalendar.js")"></script>
    <script type="text/javascript" src="@Url.Content("~/Content/js/dhtmlxgrid/dhtmlxcalendar.js")"></script>

    <link rel="stylesheet" type="text/css" href="@Url.Content("~/Content/js/dhtmlxgrid/dhtmlxgrid.css")" />
    <link rel="stylesheet" type="text/css" href="@Url.Content("~/Content/js/dhtmlxgrid/dhtmlxgrid_skins.css")" />
    <link rel="stylesheet" type="text/css" href="@Url.Content("~/Content/js/dhtmlxgrid/ext/dhtmlxgrid_pgn_bricks.css")"/>
    <link rel="stylesheet" type="text/css" href="@Url.Content("~/Content/js/dhtmlxgrid/skins/dhtmlxgrid_dhx_skyblue.css")" />
    <link rel="stylesheet" type="text/css" href="@Url.Content("~/Content/js/dhtmlxgrid/skins/dhtmlxgrid_dhx_secom.css")"/>


    <script type="text/javascript" src="@Url.Content("~/Scripts/Base/DateTimePicker.js")" ></script>
    <script type="text/javascript" src="@Url.Content("~/Scripts/Base/GridControl.js")"></script>

    <script src="../../Scripts/Base/DateTimePicker.js" type="text/javascript"></script>
    <script src="../../Scripts/Quotation/Dialog.js" type="text/javascript"></script>
    <script src="../../Scripts/Master/Dialog.js" type="text/javascript"></script>
    <script src="../../Scripts/Common/Dialog.js" type="text/javascript"></script>
    <script src="../../Scripts/Contract/Dialog.js" type="text/javascript"></script>
    <script type="text/javascript" src="@Url.Content("~/Scripts/Contract/CTS051.js")" ></script>
}
@{
    ViewBag.LabelWidth = "250px";
    ViewBag.RightLabelWidth = "220px";
    ViewBag.ObjectWidth = "160px";
    ViewBag.RightObjectWidth = "180px";
    ViewBag.isViewMode = true;
    ViewBag.ContractTargetCustomerImportant = false;
    
    <script language="javascript" runat="server"> 
        var ObjCTS051 = { ContractCodeShort : "@ViewBag.ContractCode" , ContractCode : "@ViewBag.ContractCodeLong" , OCC : "@ViewBag.OCCCode" , ContractStatus : "@ViewBag.ContractStatus" , QuotationTargetCode : "@ViewBag.QuotationTargetCode" , Alphabet : "" , EmpNo : "" , EmpName : "" , 
                        DisplayAll : "", BillingClientCode : "", BillingOffice : "", PaymentMethod : "", Sequence : "", ServiceTypeCode : "@ViewBag.ServiceTypeCode" , TargetCodeType : "@ViewBag.TargetCodeType" , EndContractDate : "@ViewBag.EndContractDate" , InstallationStatusCode : "@ViewBag.InstallationStatusCode"} 
        var _lblReq = '@Html.RequireFiled()';
    </script>
    
    @*if (ViewBag.OCCCode == "" || ViewBag.OCCCode == null)
    {
        <script language="javascript" runat="server">
            var obj = {
            module: "Contract",
            code: "MSG3053"
            };
            call_ajax_method("/Shared/GetMessage", obj, function (result) {
                OpenErrorMessageDialog(result.Code, result.Message,
                function () {
                    window.location.href = generate_url("/common/CMS020");
                },
                null);
            });
        </script>
    }
    else
    {
        if (ViewBag.IsSystemSuspending)
        {
            <script language="javascript" runat="server">
                var obj = {
                module: "Common",
                code: "MSG0049"
                };
                call_ajax_method("/Shared/GetMessage", obj, function (result) {
                    OpenErrorMessageDialog(result.Code, result.Message,
                    function () {
                        window.location.href = generate_url("/common/CMS020");
                    },
                    null);
                });
            </script>
        }
        else
        {
            if (ViewBag.Permission == false)
            {
                <script language="javascript" runat="server">
                    var obj = {
                    module: "Common",
                    code: "MSG0053"
                    };
                    call_ajax_method("/Shared/GetMessage", obj, function (result) {
                        OpenErrorMessageDialog(result.Code, result.Message,
                        function () {
                            window.location.href = generate_url("/common/CMS020");
                        },
                        null);
                    });
                </script>
            }
            else
            {
                if (ViewBag.HasAuthorityContract == false)
                {
                    <script language="javascript" runat="server">
                        var obj = {
                        module: "Common",
                        code: "MSG0063"
                        };
                        call_ajax_method("/Shared/GetMessage", obj, function (result) {
                            OpenErrorMessageDialog(result.Code, result.Message,
                            function () {
                                window.location.href = generate_url("/common/CMS020");
                            },
                            null);
                        });
                    </script>
                }
                else
                {
                    if (ViewBag.HasAuthorityOperation == false)
                    {
                        <script language="javascript" runat="server">
                            var obj = {
                            module: "Common",
                            code: "MSG0063"
                            };
                            call_ajax_method("/Shared/GetMessage", obj, function (result) {
                                OpenErrorMessageDialog(result.Code, result.Message,
                                function () {
                                    window.location.href = generate_url("/common/CMS020");
                                },
                                null);
                            });
                        </script>
                    }
                    else
                    {
                        if (ViewBag.IsValidLastChangeType == false)
                        {
                            <script language="javascript" runat="server">
                                var obj = {
                                module: "Contract",
                                code: "MSG3001"
                                };
                                call_ajax_method("/Shared/GetMessage", obj, function (result) {
                                    OpenErrorMessageDialog(result.Code, result.Message,
                                    function () {
                                        window.location.href = generate_url("/common/CMS020");
                                    },
                                    null);
                                });
                            </script>
                        }                     
                    }
                }
            }
        }
    }*@
}
@*//-Contract Change-------------------------------------------------------------------------------------------------------------------------------------------------------*@
<div id="ContractChange" class="main-table">
    <div class="usr-row">
        <div class="table-header" style="width:@ViewBag.LabelWidth;">
            @Resources.CTS051.lblContractBasicInformation
        </div>
    </div>
    <div class="usr-row" style="height:20px">
        <div class="usr-label" style="width:@ViewBag.LabelWidth;">
            @Resources.CTS051.lblContractCode
        </div>
        <div class="usr-object" style="width: 100px">
            @Html.CommonTextBox("txtContractCode", (string)@ViewBag.ContractCode, new { style = "width:100px;", maxlength = "12", @readonly = true })
        </div>
        <div class="usr-label" style="width: 230px">
            @Resources.CTS051.lblUserCode
        </div>
        <div class="usr-object" style="width: 100px">
            @Html.CommonTextBox("txtUserCode", (string)@ViewBag.UserCode, new { style = "width:100px;", maxlength = "12", @readonly = true })
        </div>
    </div>
    <div class="usr-row" style="height:30px">
        <div class="usr-label" style="width:@ViewBag.LabelWidth;" >
            @Resources.CTS051.lblCustomerCode
        </div>
        <div class="usr-object" style="width: 100px">
            @Html.CommonTextBox("txtCustomerCode", (string)@ViewBag.CustomerCode, new { style = "width:100px;", maxlength = "11", @readonly = true })
        </div>
        <div class="usr-label" style="width: 230px">
            @Resources.CTS051.lblCustomerCodeReal
        </div>
        <div class="usr-object">
            @Html.CommonTextBox("txtCustomerCodeReal", (string)@ViewBag.RealCustomerCode, new { style = "width:100px;", maxlength = "11", @readonly = true })
        </div>
        <div class="usr-label" style="width: 100px">
            @Resources.CTS051.lblSiteCode
        </div>
        <div class="usr-object">
            @Html.CommonTextBox("txtSiteCode", (string)@ViewBag.SiteCode, new { style = "width:106px;", maxlength = "16", @readonly = true })
        </div>
    </div>
    <div class="usr-row" style="height:20px; padding-top: 15px;">
        <div class="usr-label" style="width:@ViewBag.LabelWidth;">
        </div>
        <div class="usr-object">           
            @Html.CommonCheckButton("chkIsimportantCustomer", @Resources.CTS051.lblContractTargetImportantCustomer, "", (bool)@ViewBag.ImportantFlag, new { disabled = "disabled" })
        </div>
    </div>
    <div class="usr-row" style="height:20px">
        <div class="usr-label" style="width:@ViewBag.LabelWidth;">
            @Resources.CTS051.lblContractTargetName
        </div>
        <div class="usr-object" style="width:655px;">
            @Html.CommonTextBox("txtContractTargetName", (string)@ViewBag.CustFullNameEN, new { style = "width:650px;", maxlength = "200", @readonly = true })
        </div>
    </div>
    <div class="usr-row" style="height:30px">
        <div class="usr-label" style="width:@ViewBag.LabelWidth;">
            @Resources.CTS051.lblContractTargetAddress
        </div>
        <div class="usr-object" style="width:655px;">
            @Html.CommonTextBox("txtContractTargetAddress", (string)@ViewBag.AddressFullEN, new { style = "width:650px;", maxlength = "1600", @readonly = true })
        </div>
    </div>
    <div class="usr-row" style="height:20px">
        <div class="usr-label" style="width:@ViewBag.LabelWidth;">
            @Resources.CTS051.lblSiteName
        </div>
        <div class="usr-object" style="width:655px;">
            @Html.CommonTextBox("txtSiteName", (string)@ViewBag.SiteName, new { style = "width:650px;", maxlength = "200", @readonly = true })
        </div>
    </div>
    <div class="usr-row" style="height:30px">
        <div class="usr-label" style="width:@ViewBag.LabelWidth;">
            @Resources.CTS051.lblSiteAddress
        </div>
        <div class="usr-object" style="width:655px;">
            @Html.CommonTextBox("txtSiteAddress", (string)@ViewBag.SiteAddress, new { style = "width:650px;", maxlength = "1600", @readonly = true })
        </div>
    </div>
    <div class="usr-row" style="height:20px">
        <div class="usr-label" style="width:@ViewBag.LabelWidth;">
            @Resources.CTS051.lblContractTargetNameLocal
        </div>
        <div class="usr-object" style="width:655px;">
            @Html.CommonTextBox("txtCustFullNameLC", (string)@ViewBag.CustFullNameLC, new { style = "width:650px;", maxlength = "200", @readonly = true })
        </div>
    </div>
    <div class="usr-row" style="height:30px">
        <div class="usr-label" style="width:@ViewBag.LabelWidth;">
            @Resources.CTS051.lblContractTargetAddressLocal
        </div>
        <div class="usr-object" style="width:655px;">
            @Html.CommonTextBox("txtContractTargetAddressLocal", (string)@ViewBag.AddressFullLC, new { style = "width:650px;", maxlength = "200", @readonly = true })
        </div>
    </div>
    <div class="usr-row" style="height:20px">
        <div class="usr-label" style="width:@ViewBag.LabelWidth;">
            @Resources.CTS051.lblSiteNameLocal
        </div>
        <div class="usr-object" style="width:655px;">
            @Html.CommonTextBox("txtSiteNameLocal", (string)@ViewBag.SiteNameLC, new { style = "width:650px;", maxlength = "1600", @readonly = true })
        </div>
    </div>
    <div class="usr-row" style="height:30px">
        <div class="usr-label" style="width:@ViewBag.LabelWidth;">
            @Resources.CTS051.lblSiteAddressLocal
        </div>
        <div class="usr-object" style="width:655px;">
            @Html.CommonTextBox("txtSiteAddressLocal", (string)@ViewBag.SiteAddressLC, new { style = "width:650px;", maxlength = "1600", @readonly = true })
        </div>
    </div>
    <div class="usr-row" style="height:20px">
        <div class="usr-label" style="width:@ViewBag.LabelWidth;">
            @Resources.CTS051.lblInstallationStatus
        </div>
        <div class="usr-object" style="width: 170px">
            @Html.CommonTextBox("txtInstallationStatus", (string)@ViewBag.InstallationStatus, new { maxlength = "10", @readonly = true })
        </div>
        <div class="usr-object">
            @Html.CommonButton("btnViewInstalltionDetail", @Resources.CTS051.btnViewInstalltionDetail, new { style = "width:200px;" })
        </div>
    </div>
    <div class="usr-row" style="height:20px; padding-top: 15px;">
        <div class="usr-label" style="width:@ViewBag.LabelWidth;">
            @Resources.CTS051.lblOperationOffice
        </div>
        <div class="usr-object">
            @Html.CommonTextBox("txtOperationOffice", (string)@ViewBag.OfficeName, new { maxlength = "50", @readonly = true })
        </div>
    </div>
    <div class="usr-clear-style" style="height: 0%">&nbsp;</div>
</div>
@*//-Specify------------------------------------------------------------------------------------------------------------------------------------------------*@
<div id="SpecifySection" class="main-table">
    <div class="table-header" style="width:@ViewBag.LabelWidth;">
        @Resources.CTS051.lblSpecifyQuotation
    </div>
    <div class="usr-row">
        <div class="usr-label" style="width: 255px">
            @Resources.CTS051.lblQuotationCode
        </div>
        <div class="usr-object" style="width: 185px">
            @Html.CommonTextBox("QuotationTargetCode", (string)ViewBag.QuotationTargetCode, new { style = "width:100px;", maxlength = "13" })
            @Html.CommonTextBox("Alphabet", "", new { style = "width:50px;", maxlength = "2" })
            @Html.RequireFiled()
        </div>
        <div class="usr-object">
            @Html.CommonButton("btnRetrieve", @Resources.CTS051.lblRetrieveDetail, new { style = "width:100px;" })
            @Html.CommonButton("btnSearchQuotation", @Resources.CTS051.lblSearchQuotation, new { style = "width:130px;" })
        </div>
    </div>
    <div class="usr-row">
        <div class="usr-label" style="width:@ViewBag.LabelWidth;">
        </div>
        <div class="usr-label" style="width: 848px;">
            @Html.CommonButton("btnViewQuotationDetail", @Resources.CTS051.lblViewQuotationDetail, new { style = "width:150px;" })
        </div>
        <div class="usr-label">
            @Html.CommonButton("btnSpecifyClear", @Resources.CTS051.lblClear, new { style = "width:100px;" })
        </div>
    </div>
    <div class="usr-clear-style" style="height: 0%">&nbsp;</div>
</div>
@*//-Change plan------------------------------------------------------------------------------------------------------------------------------------------------*@
<div id="ChangePlanSection" class="main-table">
    <div class="usr-row">
        <div class="table-header" style="width:@ViewBag.LabelWidth;">
            @Resources.CTS051.lblChangePlan
        </div>
    </div>
    <div id="ChangePlanDetailSection" class="main-table" style="border-style: none">
        <div class="usr-row">
            <div class="usr-label" style="width:@ViewBag.LabelWidth;">
                @Resources.CTS051.lblExpectedOperationDate
            </div>
            <div class="usr-object">
                @*@Html.CommonTextBox("ExpectedOperationDate", (string)@ViewBag.ExpectOperationDate, new { style = "width:100px;", maxlength = "12" })*@
                @Html.CommonTextBox("ExpectedOperationDate", "", new { style = "width:100px;", maxlength = "12" })
                
            </div>
            <div class="usr-label">
                @Html.RequireFiled()
                @Html.LabelDateFormat("")
            </div>
        </div>
        <div>
            <div id="gridChangePlan" style="width: 99%; margin-left: 4px;">
                <div class="gridbox_dhx_secom" style="width: 100%; height: auto; cursor: default;">
                    <div class="custom-table" style="position: relative; width: 100%; overflow: hidden;">
                        <table style="width: 100%; padding-right: 20px; table-layout: fixed; margin-right: 20px;" cellspacing="0" cellpadding="0">
                            <tr class="hdr">
                                <td style="width:198px;" />
                                <td style="width:137px;">@Html.Raw(Resources.CTS051.headerNormal)</td>
                                <td style="width:139px;">@Html.Raw(Resources.CTS051.headerOrder)</td>
                                <td style="width:149px;">@Html.Raw(Resources.CTS051.headerApproveContract)</td>
                                <td style="width:169px;">@Html.Raw(Resources.CTS051.headerCompleteInstallation)</td>
                                <td style="width:140px;">@Html.Raw(Resources.CTS051.headerStartService)</td>
                            </tr>

                            <tr>
                                <td align="right">@Resources.CTS051.lblContractFeeAfterChange</td>
                                <td align="center"><div class="usr-object" style="width:85px; text-align:left;">@Html.CommonTextBox("ChangePlanNormalContractFee", "", new { style = "width:80px; text-align:right;" })</div> @Html.LabelCurrencyUnit("")</td>
                                <td align="center"><div class="usr-object" style="width:85px; text-align:left;">@Html.CommonTextBox("ChangePlanOrderContractFee", "", new { style = "width:80px; text-align:right;" })</div> @Html.LabelCurrencyUnit("")</td>
                                <td align="center"></td>
                                <td align="center"></td>
                                <td align="center"></td>
                            </tr>

                            <tr class="odd_dhx_secom">
                                <td align="right">@Resources.CTS051.lblInstallationFeeAfterChange</td>
                                <td align="center"><div class="usr-object" style="width:85px; text-align:left;">@Html.CommonTextBox("ChangePlanNormalInstallationFee", "", new { style = "width:80px; text-align:right;" })</div> @Html.LabelCurrencyUnit("")</td>
                                <td align="center"><div class="usr-object" style="width:85px; text-align:left;">@Html.CommonTextBox("ChangePlanOrderInstallationFee", "", new { style = "width:80px; text-align:right;" })</div> @Html.LabelCurrencyUnit("")</td>
                                <td align="center"><div class="usr-object" style="width:85px; text-align:left;">@Html.CommonTextBox("ChangePlanApproveInstallationFee", "", new { style = "width:80px; text-align:right;" })</div> @Html.LabelCurrencyUnit("")</td>
                                <td align="center"><div class="usr-object" style="width:85px; text-align:left;">@Html.CommonTextBox("ChangePlanCompleteInstallationFee", "", new { style = "width:80px; text-align:right;" })</div> @Html.LabelCurrencyUnit("")</td>
                                <td align="center"><div class="usr-object" style="width:85px; text-align:left;">@Html.CommonTextBox("ChangePlanStartInstallationFee", "", new { style = "width:80px; text-align:right;" })</div> @Html.LabelCurrencyUnit("")</td>
                            </tr>

                            <tr>
                                <td align="right">@Resources.CTS051.lblAdditionalDepositFee</td>
                                <td align="center"><div class="usr-object" style="width:85px; text-align:left;">@Html.CommonTextBox("ChangePlanNormalDepositFee", "", new { style = "width:80px; text-align:right;" })</div> @Html.LabelCurrencyUnit("")</td>
                                <td align="center"><div class="usr-object" style="width:85px; text-align:left;">@Html.CommonTextBox("ChangePlanOrderDepositFee", "", new { style = "width:80px; text-align:right;" })</div> @Html.LabelCurrencyUnit("")</td>
                                <td align="center"></td>
                                <td align="center"></td>
                                <td align="center"></td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
            <div class="usr-row">
                <div class="usr-label" style="width: 500px">@Resources.CTS051.lblBillingTimingOfAdditionalDepositFee</div>
                <div class="usr-object">
                    @Html.BillingTimingTypeComboBox("BillingTimingType", new { style = "height: 22px; width: 200px; text-align:center" })
                    @Html.RequireFiled()
                </div>
            </div>
            <div class="usr-row" style="padding-top: 15px;">
                <div class="usr-label" style="width:@ViewBag.LabelWidth;">
                    @Resources.CTS051.lblNegotiationStaff1
                </div>
                <div class="usr-object" style="width: 105px">
                    @Html.CommonTextBox("NegotiationStaffEmpNo1", (string)@ViewBag.NavigationStaff1Code, new { style = "width:100px;", maxlength = "10" })
                </div>
                <div class="usr-object" style="width: 250px">
                    @Html.CommonTextBox("NegotiationStaffEmpName1", "", new { style = "width:200px;" })
                    @Html.RequireFiled()
                </div>
            </div>
            <div class="usr-row">
                <div class="usr-label" style="width:@ViewBag.LabelWidth;">
                    @Resources.CTS051.lblNegotiationStaff2
                </div>
                <div class="usr-object" style="width: 105px">
                    @Html.CommonTextBox("NegotiationStaffEmpNo2", null, new { style = "width:100px;", maxlength = "10" })
                </div>
                <div class="usr-object" style="width: 55px">
                    @Html.CommonTextBox("NegotiationStaffEmpName2", null, new { style = "width:200px;" })
                </div>
            </div>
            <div class="usr-row" style="width: 99%; padding-top: 15px">
                <div class="usr-label" style="width:@ViewBag.LabelWidth;">
                    @Resources.CTS051.lblApproveNo1
                </div>
                <div class="usr-object">
                    @Html.CommonTextBox("ApproveNo1", null, new { style = "width:100px;", maxlength = "15" })
                </div>
                <div class="usr-label" style="width: 510px">
                    @Html.CommonCheckButton("ContractDurationFlag", Resources.CTS051.lblChangeContractDurationFlag, null, false, new { style = "width:30px;" })
                </div>
            </div>
            <div class="usr-row">
                <div class="usr-label" style="width:@ViewBag.LabelWidth;">
                    @Resources.CTS051.lblApproveNo2
                </div>
                <div class="usr-object" style="width: 105px">
                    @Html.CommonTextBox("ApproveNo2", null, new { style = "width:100px;", maxlength = "15" })
                </div>
                <div class="usr-label" style="width: 280px">
                    @Resources.CTS051.lblContractDurationMonth
                </div>
                <div class="usr-object" style="width: 105px">
                    @Html.CommonTextBox("ContractDurationMonth", null, new { style = "width:50px;", maxlength = "12" })
                </div>
            </div>
            <div class="usr-row">
                <div class="usr-label" style="width:@ViewBag.LabelWidth;">
                    @Resources.CTS051.lblApproveNo3
                </div>
                <div class="usr-object" style="width: 105px">
                    @Html.CommonTextBox("ApproveNo3", null, new { style = "width:100px;", maxlength = "15" })
                </div>
                <div class="usr-label" style="width: 280px">
                    @Resources.CTS051.lblAutorenewMonth
                </div>
                <div class="usr-object" style="width: 105px">
                    @Html.CommonTextBox("AutoRenewMonth", null, new { style = "width:50px", maxlength = "12" })
                </div>
            </div>
            <div class="usr-row">
                <div class="usr-label" style="width:@ViewBag.LabelWidth;">
                    @Resources.CTS051.lblApproveNo4
                </div>
                <div class="usr-object" style="width: 105px">
                    @Html.CommonTextBox("ApproveNo4", null, new { style = "width:100px;", maxlength = "15" })
                </div>
                <div class="usr-label" style="width: 280px">
                    @Resources.CTS051.lblContractEndDate
                </div>
                <div class="usr-object" style="width: 138px">
                    @Html.CommonTextBox("EndContractDate", null, new { style = "width:100px", maxlength = "12" })
                </div>
                <div class="usr-object">
                    @Html.LabelDateFormat("operationDateFormat")
                </div>
            </div>
            <div class="usr-row">
                <div class="usr-label" style="width:@ViewBag.LabelWidth;">
                    @Resources.CTS051.lblApproveNo5
                </div>
                <div class="usr-object" style="width: 105px">
                    @Html.CommonTextBox("ApproveNo5", null, new { style = "width:100px;", maxlength = "15" })
                </div>
            </div>
        </div>
        <div class="usr-clear-style" style="height: 0%">&nbsp;</div>
    </div>
    <div class="usr-clear-style" style="height: 0%">&nbsp;</div>
</div>
@*//------------------------------------------------------------------------------------------------------------------------------------------------------------*@
@*//-Billing Target------------------------------------------------------------------------------------------------------------------------------------------------*@
<div id="BillingTargetSection" class="main-table">
    <div class="usr-row">
        <div class="table-header" style="width:@ViewBag.LabelWidth;">
            @Resources.CTS051.lblBillingTarget
        </div>
        <div class="usr-row">
            <div class="usr-label" style="width: 204px;">
                @Html.CommonCheckButton("DivideContractFeeBillingFlag", @Resources.CTS051.lblDivideBillingContractFee, "", null, null)
            </div>
        </div>
        <div class="usr-row">
            <div class="usr-label" style="width: 101px;">
                @Html.CommonCheckButton("DisplayAll", @Resources.CTS051.lblDisplayAll, "", true, null)
            </div>
        </div>
    </div>
    <div class="usr-row">
    </div>
    <div id="gridChangePlanBillingTarget" style="width: 99%; margin-left: 4px;">
    </div>
    <div style="width: 952px; text-align: right">
        @Html.CommonButton("btnNew", "New", new { style = "width:100px;" })
    </div>
    <div class="usr-clear-style" style="height: 0%">&nbsp;</div>
</div>
@*//------------------------------------------------------------------------------------------------------------------------------------------------------------*@
@*//-Billing Target Detail--------------------------------------------------------------------------------------------------------------------------------------*@
<div id="SeparatorBillingTargetDetail" style="height: 10px; border-style: none; border-collapse: collapse;
    display: none">
    <div class="usr-row">
        &nbsp;</div>
</div>
<div id="BillingTargetDetailSection" class="main-table">
    <div class="usr-row">
        <div class="table-header" style="width:@ViewBag.LabelWidth;">
            @Resources.CTS051.lblBillingTargetDetail
        </div>
    </div>
    <div class="usr-row">
        <div class="usr-label" style="width: 183px">&nbsp;&nbsp;</div>
        <div class="usr-object">
            <div id="specifyCode" class="main-table" style="border-style: dotted; width: 365px">
                <div class="usr-label" style="width: 200px; font-weight: bold; text-align: left">
                    @Resources.CTS051.lblSpecifyCode
                </div>
                <div class="usr-row" style="height: 10px">
                </div>
                <div class="usr-row">
                    <div class="usr-label" style="width: 150px; text-align: left">
                        &nbsp;&nbsp;@Html.CommonRadioButton("rdoTargetCode", @Resources.CTS051.lblBillingTargetCode, "0", true, "SpecifyCode")
                    </div>
                    <div class="usr-object">
                        @Html.CommonTextBox("BillingTargetCode", null, new { style = "width:150px;", maxlength = "12" })
                    </div>
                </div>
                <div class="usr-row">
                    <div class="usr-label" style="width: 150px; text-align: left">
                        &nbsp;&nbsp;@Html.CommonRadioButton("rdoClientCode", @Resources.CTS051.lblBillingClientCode, "0", false, "SpecifyCode")
                    </div>
                    <div class="usr-object">
                        @Html.CommonTextBox("BillingClientCode", null, new { style = "width:150px;", maxlength = "12" })
                    </div>
                </div>
                <div class="usr-row" style="height: 35px">
                </div>
                <div class="usr-row">
                    <div class="usr-label" style="width: 120px; text-align: left">
                        &nbsp;</div>
                    <div class="usr-object">
                        @Html.CommonButton("btnRetrieveBilling", @Resources.CTS051.lblRetrieveDetail, new { style = "width:70px;" })&nbsp;
                    </div>
                    <div class="usr-object">
                        @Html.CommonButton("btnSearchBillingClient", @Resources.CTS051.lblSearchBillingClientDetail, new { style = "width:150px;" })
                    </div>
                </div>
                <div class="usr-row" style="height:12px">
                </div>
                <div class="usr-clear-style" style="height: 0%">&nbsp;</div>
            </div>
        </div>
        <div class="usr-label" style="width: 1px">
            &nbsp;</div>
        <div class="usr-object">
            <div id="copyName" class="main-table" style="border-style: dotted; width: 367px">
                <div class="usr-label" style="width: 300px; font-weight: bold; text-align: left">
                    @Resources.CTS051.lblCopyName
                </div>
                <div class="usr-row" style="height: 1px">
                </div>
                <div class="usr-row">
                    <div class="usr-label" style="width:@ViewBag.LabelWidth; text-align:left">
                        &nbsp;&nbsp;@Html.CommonRadioButton("rdoContractTarget", @Resources.CTS051.lblContractTargetDetail, "0", true, "AddressInformation")
                    </div>
                </div>
                <div class="usr-row">
                    <div class="usr-label" style="width:@ViewBag.LabelWidth; text-align:left">
                        &nbsp;&nbsp;@Html.CommonRadioButton("rdoBranchOfContractTarget", @Resources.CTS051.lblBranchOfContractTargetDetail, "1", false, "AddressInformation")
                    </div>
                </div>
                <div class="usr-row">
                    <div class="usr-label" style="width:@ViewBag.LabelWidth; text-align:left">
                        &nbsp;&nbsp;@Html.CommonRadioButton("rdoRealCustomer", @Resources.CTS051.lblRealCustomerDetail, "2", false, "AddressInformation")
                    </div>
                </div>
                <div class="usr-row">
                    <div class="usr-label" style="width:@ViewBag.LabelWidth; text-align:left">
                        &nbsp;&nbsp;@Html.CommonRadioButton("rdoSite", @Resources.CTS051.lblSiteDetail, "3", false, "AddressInformation")
                    </div>
                </div>
                <div class="usr-row">
                    <div class="usr-label" style="width: 260px;">
                        &nbsp;</div>
                    <div class="usr-object">
                        @Html.CommonButton("btnCopy", @Resources.CTS051.lblCopyDetail, new { style = "width:100px;" })
                    </div>
                </div>
                <div class="usr-clear-style" style="height: 0%">&nbsp;</div>
            </div>
        </div>
    </div>
    <div class="usr-row" style="padding-top:15px;">
        <div class="usr-label" style="width: 183px;">
            @Resources.CTS051.lblBillingTargetCode
        </div>
        <div class="usr-object" style="width: 158px">
            @Html.CommonTextBox("BillingTargetCodeDetail", null, new { style = "width:150px;", maxlength = "12", @readonly = true })
        </div>
        <div id="divlblBillingClientCode" class="usr-label" style="width: 150px;">
            @Resources.CTS051.lblBillingClientCode
        </div>
        <div class="usr-object" style="width:158px">
            @Html.CommonTextBox("BillingClientCodeDetail", null, new { style = "width:150px;", maxlength = "12", @readonly = true })
        </div>
        <div class="usr-object" style="width:163px">
            @Html.CommonButton("btnNewEdit", @Resources.CTS051.lblNewEditBillingClientInfo, new { style = "width:161px;" })
        </div>
        <div class="usr-object">
            @Html.CommonButton("btnClearBillingTarget", @Resources.CTS051.lblClearBillingTarget, new { style = "width:110px;" })
        </div>
    </div>
    <div class="usr-row">
        <div class="usr-label" style="width: 183px;">
            @Resources.CTS051.lblNameEnglish
        </div>
        <div class="usr-object">
            @Html.CommonTextBox("FullNameEN", null, new { style = "width:758px;", maxlength = "12", @readonly = true })
        </div>
    </div>
    <div class="usr-row">
        <div class="usr-label" style="width: 183px;">
            @Resources.CTS051.lblBranchNameEnglish
        </div>
        <div class="usr-object">
            @Html.CommonTextBox("BranchNameEN", null, new { style = "width:758px;", maxlength = "12", @readonly = true })
        </div>
    </div>
    <div class="usr-row">
        <div class="usr-label" style="width: 183px;">
            @Resources.CTS051.lblAddressEnglish
        </div>
        <div style="width: 100%;">
            @Html.CommonTextBox("AddressEN", null, new { style = "width:758px;", maxlength = "160", @readonly = true })
        </div>
    </div>
    <div class="usr-row" style="padding-top: 15px;">
        <div class="usr-label" style="width: 183px;">
            @Resources.CTS051.lblNameLocal
        </div>
        <div class="usr-object">
            @Html.CommonTextBox("FullNameLC", null, new { style = "width:758px;", maxlength = "12", @readonly = true })
        </div>
    </div>
    <div class="usr-row">
        <div class="usr-label" style="width: 183px;">
            @Resources.CTS051.lblBranchNameLocal
        </div>
        <div class="usr-object">
            @Html.CommonTextBox("BranchNameLC", null, new { style = "width:758px;", maxlength = "12", @readonly = true })
        </div>
    </div>
    <div class="usr-row">
        <div class="usr-label" style="width: 183px;">
            @Resources.CTS051.lblAddressLocal
        </div>
        <div class="usr-object">
            @Html.CommonTextBox("AddressLC", null, new { style = "width:758px;", maxlength = "12", @readonly = true })
        </div>
    </div>
    <div class="usr-row">
        <div class="usr-label" style="width: 183px;">
            @Resources.CTS051.lblNationality
        </div>
        <div class="usr-object" style="width: 158px; text-align: left">
            @Html.CommonTextBox("Nationality", null, new { style = "width:150px;", maxlength = "12", @readonly = true })
        </div>
        <div class="usr-label" style="width: 150px;">
            @Resources.CTS051.lblTelephoneNo
        </div>
        <div class="usr-object" style="width: 154px;">
            @Html.CommonTextBox("PhoneNo", null, new { style = "width:150px;", maxlength = "12", @readonly = true })
        </div>
        <div class="usr-label" style="width: 130px;">
            @Resources.CTS051.lblBusinessType
        </div>
        <div class="usr-object">
            @Html.CommonTextBox("BusinessType", null, new { style = "width:156px;", maxlength = "12", @readonly = true })
        </div>
    </div>
    <div class="usr-row">
        <div class="usr-label" style="width: 183px;">
            @Resources.CTS051.lblIdNo
        </div>
        <div class="usr-object">
            @Html.CommonTextBox("IDNo", null, new { style = "width:150px;", maxlength = "15", @readonly = true })
        </div>
    </div>
    <div class="usr-row">
        <div class="usr-label" style="width: 183px;">
            @Resources.CTS051.lblBillingOffice
        </div>
        <div class="usr-object">
            @Html.BillingOfficeNormalCbo("BillingOffice", new { style = "height: 22px; width: 154px; text-align:center" })
            @Html.RequireFiled()
        </div>
    </div>
    <div style="height:30px">&nbsp;</div>
    <div class="usr-row">
        <div id="gridChangePlanBillingDetail" style="width: 70%; margin-left: 188px;">
            <div class="gridbox_dhx_secom" style="width: 100%; height: auto; cursor: default;">
                <div class="custom-table" style="position: relative; width: 100%; overflow: hidden;">
                    <table id="BillingAfter" style="width: 100%; padding-right: 20px; table-layout: fixed; margin-right: 20px;" cellspacing="0" cellpadding="0">
                        <tr class="hdr">
                            <td style="width:300px;" colspan="2" />
                            <td style="width:185px;">@Resources.CTS051.headerAmount</td>
                            <td style="width:186px;">@Resources.CTS051.headerPaymentMethod</td>
                        </tr>

                        <tr id="trContractFee">
                            <td align="right" colspan="2">@Resources.CTS051.lblBillingContractFee</td>
                            <td align="center"><div class="usr-object" style="width:125px; text-align:left;">@Html.CommonTextBox("txtBillingContractFee", "", new { style = "width:120px; text-align:right;" })</div>@Html.LabelCurrencyUnit("")&nbsp;&nbsp;@Html.RequireFiled()</td>
                            <td align="center"></td>
                        </tr>

                        <tr id="trInstallFee" class="odd_dhx_secom">
                            <td align="right" colspan="2">@Resources.CTS051.lblBillingInstallationFee</td>
                            <td align="center"><div class="usr-object" style="width:125px; text-align:left;">@Html.CommonTextBox("txtBillingInstallationFee", "", new { style = "width:120px; text-align:right;" })</div>@Html.LabelCurrencyUnit("")&nbsp;&nbsp;@Html.RequireFiled()</td>
                            <td align="center"><div class="usr-object" style="width:125px; text-align:left;">@Html.PaymentMethodContractComboBox("InstallationFee", null)</div> @Html.RequireFiled()</td>
                        </tr>

                        <tr id="trApproval" class="odd_dhx_secom">
                            <td align="right" style="width: 150px;" rowspan="3">@Resources.CTS051.lblBillingInstallationFee</td>
                            <td align="left" style="width: 150px;">@Resources.CTS051.lblApproval</td>
                            <td align="center"><div class="usr-object" style="width:125px; text-align:left;">@Html.CommonTextBox("txtBillingApproveInstallationFee", "", new { style = "width:120px; text-align:right;" })</div>@Html.LabelCurrencyUnit("")&nbsp;&nbsp;@Html.RequireFiled()</td>
                            <td></td>
                        </tr>

                        <tr id="trCompleteInstall">
                            <td align="left" style="width: 150px;">@Resources.CTS051.lblCompleteInstallation</td>
                            <td align="right"><div class="usr-object" style="width:125px; text-align:left;">@Html.CommonTextBox("txtBillingCompleteInstallationFee", "", new { style = "width:120px; text-align:right;" })</div>@Html.LabelCurrencyUnit("")@Html.RequireFiled()</td>
                            <td align="center"><div class="usr-object" style="width:125px; text-align:left;">@Html.PaymentMethodContractComboBox("CompleteInstallationFee", null)</div> @Html.RequireFiled()</td>
                        </tr>

                        <tr id="trStartService" class="odd_dhx_secom">
                            <td align="left" style="width: 150px;">@Resources.CTS051.lblStartService</td>
                            <td align="right"><div class="usr-object" style="width:125px; text-align:left;">@Html.CommonTextBox("txtBillingStartInstallationFee", "", new { style = "width:120px; text-align:right;" })</div>@Html.LabelCurrencyUnit("")@Html.RequireFiled()</td>
                            <td align="center"><div class="usr-object" style="width:125px; text-align:left;">@Html.PaymentMethodContractComboBox("StartServiceInstallationFee", null)</div>@Html.RequireFiled()</td>
                        </tr>

                        <tr id="trTotal">
                            <td align="right" colspan="2">@Resources.CTS051.lblTotal</td>
                            <td align="center"><div class="usr-object" style="width:125px; text-align:left;">@Html.CommonTextBox("txtAmountTotal", "", new { style = "width:120px; text-align:right;" })</div>@Html.LabelCurrencyUnit("")&nbsp;&nbsp;@Html.RequireFiled()</td>
                            <td></td>
                        </tr>

                        <tr id="trDepositFee">
                            <td align="right" colspan="2">@Resources.CTS051.lblBillingDepositFee</td>
                            <td align="center"><div class="usr-object" style="width:125px; text-align:left;">@Html.CommonTextBox("txtBillingDepositFee", "", new { style = "width:120px; text-align:right;" })</div>@Html.LabelCurrencyUnit("")&nbsp;&nbsp;@Html.RequireFiled()</td>
                            <td align="center"><div class="usr-object" style="width:125px; text-align:left;">@Html.PaymentMethodContractComboBox("DepositInstallationFee", null)</div>@Html.RequireFiled()</td>
                        </tr>

                    </table>
                </div>
            </div>
        </div>
    </div>
    <div style="height:30px">&nbsp;</div>
    <div class="usr-row">
        <div class="usr-object" style="text-align: right; width: 870px">
            @Html.CommonButton("btnAddUpdate", @Resources.CTS051.lblAddUpdate, new { style = "width:110px;" })&nbsp;
        </div>
        <div class="usr-object" style="text-align: right">
            @Html.CommonButton("btnCancelCTS051", @Resources.CTS051.lblCancel, new { style = "width:80px;" })
        </div>
        <div class="usr-row">
        </div>
    </div>
    <div id="dlgCTS051" class="main-popup-dialog">
        <div class="popup-dialog">
        </div>
    </div>
    <div class="usr-clear-style" style="height: 0%">&nbsp;</div>
</div>

<div> @Html.Hidden("lblContractFeeAfterChange", @Resources.CTS051.lblContractFeeAfterChange) </div>
<div> @Html.Hidden("lblInstallationFeeAfterChange", @Resources.CTS051.lblInstallationFeeAfterChange) </div>
<div> @Html.Hidden("lblAdditionalDepositFee", @Resources.CTS051.lblAdditionalDepositFee) </div>

<div> @Html.Hidden("lblBillingContractFee", @Resources.CTS051.lblBillingContractFee) </div>
<div> @Html.Hidden("lblBillingInstallationFee", @Resources.CTS051.lblBillingInstallationFee) </div>
<div> @Html.Hidden("lblBillingDepositFee", @Resources.CTS051.lblBillingDepositFee) </div>
<div> @Html.Hidden("lblCompleteInstallation", @Resources.CTS051.lblCompleteInstallation) </div>

<div> @Html.Hidden("lblApproval", @Resources.CTS051.lblApproval) </div>
<div> @Html.Hidden("lblStartService", @Resources.CTS051.lblStartService) </div>
<div> @Html.Hidden("lblTotal", @Resources.CTS051.lblTotal) </div>
<div> @Html.Hidden("lblTotal", @Resources.CTS051.lblBillingDepositFee) </div>

