@using SECOM_AJIS.DataEntity.Common;
@using SECOM_AJIS.Common.Helpers;
@using SECOM_AJIS.Presentation.Master.Helpers;
@using SECOM_AJIS.Presentation.Common.Controllers;
@using SECOM_AJIS.Common.Util.ConstantValue;
@{
    
    ViewBag.lbWidth = "220px";  /* ViewBag.LabelWidth */
    ViewBag.lb2Width = "150px";
    ViewBag.lb3Width = "120px";

    ViewBag.headText = "120px";

    ViewBag.shortText = "150px";
    ViewBag.longText = "700px";

    ViewBag.RightBtnSet = "185px";

    ViewBag.ViewClass = "label-view";
    ViewBag.isViewMode = true;

    ViewBag.merge = "750px";

    /* for debug */
    ViewBag.txtBackgroundColor = "none"; /*none*/

    /* for debug */
    ViewBag.isShowAll = false;




    /* enable button in herder section //if ServiseTypeCode = C_SERVICE_TYPE_SALE  */
    if((string)ViewBag.ServiceTypeCode == ServiceType.C_SERVICE_TYPE_SALE) 
    {
        ViewBag.EnableContractBasic = false;
        //ViewBag.EnableSecurityBasic = false;
        //ViewBag.EnableSecurityDetail = false;
        ViewBag.EnableHistoryDigest = true;
        ViewBag.EnableSalesContractBasic = true;
        ViewBag.EnableContractBillingTransfer = false;

        if ((string)ViewBag.ProductTypeCode == ProductType.C_PROD_TYPE_AL || (string)ViewBag.ProductTypeCode == ProductType.C_PROD_TYPE_RENTAL_SALE || (string)ViewBag.ProductTypeCode == ProductType.C_PROD_TYPE_SALE)
        {
            ViewBag.EnableInstallation = true;

        }
        else
        {
            ViewBag.EnableInstallation = false;
        }
        
        ViewBag.EnableBillingBasic = true;
    }
    else
    {

        ViewBag.EnableContractBasic = true;
        //ViewBag.EnableSecurityBasic = false;
        //ViewBag.EnableSecurityDetail = false;
        ViewBag.EnableHistoryDigest = true;
        ViewBag.EnableSalesContractBasic = false;
        ViewBag.EnableContractBillingTransfer = false;

        if ((string)ViewBag.ProductTypeCode == ProductType.C_PROD_TYPE_AL || (string)ViewBag.ProductTypeCode == ProductType.C_PROD_TYPE_RENTAL_SALE || (string)ViewBag.ProductTypeCode == ProductType.C_PROD_TYPE_SALE)
        {
            ViewBag.EnableInstallation = true;

        }
        else
        {
            ViewBag.EnableInstallation = false;
        }
        
        ViewBag.EnableBillingBasic = true;
    }

   
   
    

    
 }

@section page_header{


<script type="text/javascript" src="@Url.Content("~/Content/js/dhtmlxgrid/dhtmlxcommon.js")"></script>
<script type="text/javascript" src="@Url.Content("~/Content/js/dhtmlxgrid/dhtmlxgrid.js")"></script>
<script type="text/javascript" src="@Url.Content("~/Content/js/dhtmlxgrid/dhtmlxgridcell.js")"></script>
<script type="text/javascript" src="@Url.Content("~/Content/js/dhtmlxgrid/ext/dhtmlxgrid_data.js")"></script>
<script type="text/javascript" src="@Url.Content("~/Content/js/dhtmlxgrid/ext/dhtmlxgrid_pgn.js")"></script>
<script type="text/javascript" src="@Url.Content("~/Content/js/dhtmlxgrid/excells/dhtmlxgrid_excell_dhxcalendar.js")"></script>
<script type="text/javascript" src="@Url.Content("~/Content/js/dhtmlxgrid/dhtmlxcalendar.js")"></script>
<script type="text/javascript" src="@Url.Content("~/Scripts/Base/GridControl.js")"></script>
<script type="text/javascript" src="@Url.Content("~/Scripts/Common/CMS200.js")"></script>

<script src="../../Scripts/Common/Dialog.js" type="text/javascript"></script>

<link rel="stylesheet" type="text/css" href="@Url.Content("~/Content/js/dhtmlxgrid/dhtmlxgrid.css")"/>
<link rel="stylesheet" type="text/css" href="@Url.Content("~/Content/js/dhtmlxgrid/skins/dhtmlxgrid_dhx_secom.css")"/>
<link rel="stylesheet" type="text/css" href="@Url.Content("~/Content/js/dhtmlxgrid/ext/dhtmlxgrid_pgn_bricks.css")"/>

<script type="text/javascript">
    var mycond_cms200 = 
    {
        ContractCode: "@ViewBag._ContractCode",
        OCC: "@ViewBag._OCC",
        ContractTargetCode: "@ViewBag._ContractTargetCode",
        PurchaserCustCode: "@ViewBag._PurchaserCustCode",
        RealCustomerCode: "@ViewBag._RealCustomerCode",
        SiteCode: "@ViewBag._SiteCode" ,
        ServiceTypeCode: "@ViewBag.ServiceTypeCode" ,

        txtRentalAttachImportanceFlag: "@ViewBag.txtRentalAttachImportanceFlag" == "True" ? true : false,
            txtSaleAttachImportanceFlag: "@ViewBag.txtSaleAttachImportanceFlag" == "True" ? true : false
    };


</script>

}


<!-- Html content --->

<div id="dlgCMS200" class="main-popup-dialog">
    <div class="popup-dialog"></div>
</div>

<div id="divAll">

@Html.Partial("_ButtonControl")

@if ((string)ViewBag.ServiceTypeCode == ServiceType.C_SERVICE_TYPE_RENTAL)
{
    @Html.Partial("CMS200/_CMS200_1")
}
else if ((string)ViewBag.ServiceTypeCode == ServiceType.C_SERVICE_TYPE_SALE)
{
    @Html.Partial("CMS200/_CMS200_2")
}

@Html.Partial("CMS200/_CMS200_3")


</div>