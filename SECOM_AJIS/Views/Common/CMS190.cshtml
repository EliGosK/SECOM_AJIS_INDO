@using SECOM_AJIS.DataEntity.Common;
@using SECOM_AJIS.Common.Helpers;
@using SECOM_AJIS.Presentation.Master.Helpers;
@using SECOM_AJIS.Presentation.Common.Controllers;
@using SECOM_AJIS.Common.Util.ConstantValue;
@{

    ViewBag.lbWidth = "220px";  /* ViewBag.LabelWidth */
    ViewBag.lb2Width = "210px";// "190px"; //150px
    ViewBag.lb2Width_ext = "180px";
    ViewBag.lb3Width = "120px";

    ViewBag.headText = "120px";

    ViewBag.shortText = "200px";// "150px";
    ViewBag.longText = "525px";

    ViewBag.shortTextPrdInfo = "200px"; // "160px";  //200px

    ViewBag.RightBtnSet = "185px";

    ViewBag.ViewClass = "label-view";
    ViewBag.isViewMode = true;

    ViewBag.merge = "750px";
    ViewBag.merge2 = "900px";// "745px"; //735px **
    ViewBag.AramWidth = "204px"; //210px **

    /* for debug */
    ViewBag.txtBackgroundColor = "none"; /*green*/
    ViewBag.BG2 = "none"; /*Lime*/

    /* for debug */
    ViewBag.isShowAll = false;



    ViewBag.Currency = CommonValue.CURRENCY_UNIT;

    /* enable button in herder section //if ServiseTypeCode = C_SERVICE_TYPE_SALE  */
    if ((string)ViewBag._ServiceTypeCode == ServiceType.C_SERVICE_TYPE_SALE)
    {
        ViewBag.EnableContractBasic = false;
        //ViewBag.EnableSecurityBasic = false;
        //ViewBag.EnableSecurityDetail = false;
        ViewBag.EnableHistoryDigest = true;
        ViewBag.EnableSalesContractBasic = true;
        ViewBag.EnableContractBillingTransfer = true;

        if ((string)ViewBag.ProductTypeCode == ProductType.C_PROD_TYPE_AL || (string)ViewBag.ProductTypeCode == ProductType.C_PROD_TYPE_RENTAL_SALE || (string)ViewBag.ProductTypeCode == ProductType.C_PROD_TYPE_SALE)
        {
            ViewBag.EnableInstallation = true;

        }
        else
        {
            ViewBag.EnableInstallation = false;
        }

        ViewBag.EnableBillingBasic = true;
    }
    else
    {

        ViewBag.EnableContractBasic = true;
        //ViewBag.EnableSecurityBasic = true;
        //ViewBag.EnableSecurityDetail = true;
        ViewBag.EnableHistoryDigest = true;
        ViewBag.EnableSalesContractBasic = false;
        ViewBag.EnableContractBillingTransfer = true;

        if ((string)ViewBag.ProductTypeCode == ProductType.C_PROD_TYPE_AL || (string)ViewBag.ProductTypeCode == ProductType.C_PROD_TYPE_RENTAL_SALE || (string)ViewBag.ProductTypeCode == ProductType.C_PROD_TYPE_SALE)
        {
            ViewBag.EnableInstallation = true;

        }
        else
        {
            ViewBag.EnableInstallation = false;
        }

        ViewBag.EnableBillingBasic = true;
    }






 }

@section page_header{


<script type="text/javascript" src="@Url.Content("~/Content/js/dhtmlxgrid/dhtmlxcommon.js")"></script>
<script type="text/javascript" src="@Url.Content("~/Content/js/dhtmlxgrid/dhtmlxgrid.js")"></script>
<script type="text/javascript" src="@Url.Content("~/Content/js/dhtmlxgrid/dhtmlxgridcell.js")"></script>
<script type="text/javascript" src="@Url.Content("~/Content/js/dhtmlxgrid/ext/dhtmlxgrid_data.js")"></script>
<script type="text/javascript" src="@Url.Content("~/Content/js/dhtmlxgrid/ext/dhtmlxgrid_pgn.js")"></script>
<script type="text/javascript" src="@Url.Content("~/Content/js/dhtmlxgrid/excells/dhtmlxgrid_excell_dhxcalendar.js")"></script>
<script type="text/javascript" src="@Url.Content("~/Content/js/dhtmlxgrid/dhtmlxcalendar.js")"></script>
<script type="text/javascript" src="@Url.Content("~/Scripts/Base/GridControl.js")"></script>
<script type="text/javascript" src="@Url.Content("~/Scripts/Common/CMS190.js")"></script>

<script src="../../Scripts/Common/Dialog.js" type="text/javascript"></script>

<link rel="stylesheet" type="text/css" href="@Url.Content("~/Content/js/dhtmlxgrid/dhtmlxgrid.css")"/>
<link rel="stylesheet" type="text/css" href="@Url.Content("~/Content/js/dhtmlxgrid/skins/dhtmlxgrid_dhx_secom.css")"/>
<link rel="stylesheet" type="text/css" href="@Url.Content("~/Content/js/dhtmlxgrid/ext/dhtmlxgrid_pgn_bricks.css")"/>


<script type="text/javascript" >
    var CMS190Data =
        {
            ContractCode: "@ViewBag._ContractCode",
            OCC: "@ViewBag._OCC",
            ContractTargetCode: "@ViewBag._ContractTargetCode",
            PurchaserCustCode: "@ViewBag._PurchaserCustCode",
            RealCustomerCode: "@ViewBag._RealCustomerCode",
            SiteCode: "@ViewBag._SiteCode",

            OldContractCode: "@ViewBag._OldContractCode",
            MaintenanceContractCode: "@ViewBag._MaintenanceContractCode",
            OnlineContractCode: "@ViewBag._OnlineContractCode" ,

            ServiceTypeCode: "@ViewBag._ServiceTypeCode",

            txtRentalAttachImportanceFlag: "@ViewBag.txtRentalAttachImportanceFlag" == "True" ? true : false,
            txtSaleAttachImportanceFlag: "@ViewBag.txtSaleAttachImportanceFlag" == "True" ? true : false
        };
</script>

}


<!-- Html content --->

<div style="display:none">
    @Html.Hidden("C_INCIDENT_RELEVANT_TYPE_CONTRACT", IncidentRelevant.C_INCIDENT_RELEVANT_TYPE_CONTRACT)
    @Html.Hidden("C_AR_RELEVANT_TYPE_CONTRACT", ARRelevant.C_AR_RELEVANT_TYPE_CONTRACT)
</div>

<div id="dlgCMS190" class="main-popup-dialog">
    <div class="popup-dialog"></div>
</div>

<div id="divAll">

@Html.Partial("_ButtonControl")

<!-- if ServiseTypeCode = C_SERVICE_TYPE_SALE  --->

@if((string)ViewBag._ServiceTypeCode == ServiceType.C_SERVICE_TYPE_SALE) 
{
   @Html.Partial("CMS190/_CMS190_3")
}
else 
{

    @Html.Partial("CMS190/_CMS190_1")
   
}


</div>

