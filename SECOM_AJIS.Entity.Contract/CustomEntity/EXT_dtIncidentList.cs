//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated from a template.
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

using System;
using System.Collections;
using System.Collections.Generic;
using System.Collections.ObjectModel;
using System.Collections.Specialized;
using System.ComponentModel.DataAnnotations;
using SECOM_AJIS.Common.CustomAttribute;
using SECOM_AJIS.DataEntity.Contract.MetaData;
using SECOM_AJIS.Common.Util;

namespace SECOM_AJIS.DataEntity.Contract
{
    [MetadataType(typeof(dtIncidentList_MetaData))]
    public partial class dtIncidentList
    {
        private static string NOT_DISPLAY_VALUE = "XXXXX";
        private static string YES = "y";
        private static string NO = "n";

        public bool canViewConfidential { get; set; }
        public string OverNewImportant { get; set; }
        public string Important { get; set; }
        public bool isStatusYellow { get; set; }
        public bool isCorrespondentYellow { get; set; }

        public string IncidentStatusName { get; set; }
        public string IncidentTypeName { get; set; }
        public string ConChiefEmpNameDisplay { get; set; }
        public string CorrEmpNameDisplay { get; set; }
        public string DeadLineTimeName { get; set; }

        public string ReasonTypeName { get; set; } //Add by Jutarat A. on 02042013

        public string RealCustomer {
            get {
                if (canViewConfidential) {
                    if (CommonUtil.IsNullOrEmpty(this.CustFullNameEN) && CommonUtil.IsNullOrEmpty(this.CustFullNameLC)) {
                        return null;
                    }

                    if (CommonUtil.IsNullOrEmpty(this.CustFullNameEN)) {
                        this.CustFullNameEN = "-";
                    }
                    if (CommonUtil.IsNullOrEmpty(this.CustFullNameLC)) {
                        this.CustFullNameLC = "-";
                    }

                    return "(1) " + this.CustFullNameEN + "<br/>(2) " + this.CustFullNameLC;
                } else {
                    return NOT_DISPLAY_VALUE;
                }
            }
        }

        public string SiteName {
            get {
                if (canViewConfidential) {
                    if (CommonUtil.IsNullOrEmpty(SiteNameEN) && CommonUtil.IsNullOrEmpty(SiteNameLC)) {
                        return null;
                    }
                    if (CommonUtil.IsNullOrEmpty(SiteNameEN)) {
                        SiteNameEN = "-";
                    }
                    if (CommonUtil.IsNullOrEmpty(SiteNameLC)) {
                        SiteNameLC = "-";
                    }

                    return "(1) " + SiteNameEN + "<br/>(2) " + SiteNameLC; //ConChiefEmpNo_EXT
                } else {
                    return NOT_DISPLAY_VALUE;
                }
            }
        }

        public string DueDateDeadLineDisplay {
            get {
                if (canViewConfidential) {
                    if (DueDateDeadLine.HasValue) {
                        string date = DueDateDeadLine.Value.ToString("dd-MMM-yyyy");
                        string time = null;
                        if (DueDateTime.HasValue) {
                            time = string.Format("{0:00}:{1:00}", DueDateTime.Value.Hours, DueDateTime.Value.Minutes);
                            //time = DueDateTime.Value.ToString("HH:mm");
                        } else {
                            time = DeadLineTimeName;
                        }

                        return date + "<br/>" + time;
                    }

                    return "-";
                } else {
                    return NOT_DISPLAY_VALUE;
                }
            }
        }

        public string ConChief {
            get {
                if (canViewConfidential)
                    return ConChiefEmpNameDisplay;
                else
                    return NOT_DISPLAY_VALUE;
            }
        }

        public string Correspondent {
            get {
                if (canViewConfidential)
                    return CorrEmpNameDisplay;
                else
                    return NOT_DISPLAY_VALUE;
            }
        }

        public string IncidentTitleDisplay {
            get {
                if (canViewConfidential)
                    return IncidentTitle;
                else
                    return NOT_DISPLAY_VALUE;
            }
        }

        public string IncidentStatusNameDisplay {
            get {

                string display;

                if (canViewConfidential)
                    display = IncidentStatusName;
                else
                    display = NOT_DISPLAY_VALUE;

                if (isStatusYellow)
                    return YES + display;
                else
                    return NO + display;
            }
        }

        public string IncidentTypeNameDisplay {
            get {
                if (canViewConfidential)
                    return IncidentTypeName;
                else
                    return NOT_DISPLAY_VALUE;
            }
        }

        public string CorrespondentDisplay {
            get {
                string display;

                if (canViewConfidential)
                    display = Correspondent;
                else
                    display = NOT_DISPLAY_VALUE;

                if (isCorrespondentYellow)
                    return YES + display;
                else
                    return NO + display;
            }
        }

        //Add by Jutarat A. on 02042013
        public string ReasonTypeNameDisplay
        {
            get
            {
                if (canViewConfidential)
                    return ReasonTypeName;
                else
                    return NOT_DISPLAY_VALUE;
            }
        }
        //End Add
    }
}

namespace SECOM_AJIS.DataEntity.Contract.MetaData
{
    public class dtIncidentList_MetaData
    {
        [LanguageMapping]
        public string IncidentStatusName { get; set; }
        [LanguageMapping]
        public string IncidentTypeName { get; set; }
        [LanguageMapping]
        public string ConChiefEmpNameDisplay { get; set; }
        [LanguageMapping]
        public string CorrEmpNameDisplay { get; set; }
        [DeadLineTimeTypeMapping("DeadLineTimeName")]
        public string DeadLineTime { get; set; }
        [LanguageMapping]
        public string ReasonTypeName { get; set; } //Add by Jutarat A. on 02042013
    }
}
